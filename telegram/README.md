# Telegram Bot for TODO GAME

Telegram-ะฑะพั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ ะฒ TODO GAME ัะตัะตะท ะฟััะผะพะต API.

## ๐ ะะฟะธัะฐะฝะธะต

ะะพั ะฟัะตะดะพััะฐะฒะปัะตั ะธะฝัะตััะตะนั ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ ะฒ TODO-ะฟัะธะปะพะถะตะฝะธะธ ัะตัะตะท Telegram. ะัะฟะพะปัะทัะตั ะฟััะผะพะต HTTP API ะฒะผะตััะพ ะฑัะฐัะทะตัะฝะพะน ะฐะฒัะพะผะฐัะธะทะฐัะธะธ.

## ๐ง ะะพะทะผะพะถะฝะพััะธ

| ะะตะนััะฒะธะต | ะะฟะธัะฐะฝะธะต |
|----------|----------|
| ๐ Login | ะัะพะด ะฒ ัััะตััะฒัััะธะน ะฐะบะบะฐัะฝั |
| ๐ Registration | ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ะฐะบะบะฐัะฝัะฐ |
| ๐ ะะพะฑะฐะฒะธัั ะทะฐะดะฐะฝะธะต | ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะน ะทะฐะดะฐัะธ |
| ๐๏ธ ะฃะดะฐะปะธัั ะทะฐะดะฐะฝะธะต | ะฃะดะฐะปะตะฝะธะต ะทะฐะดะฐัะธ ะฟะพ ะฝะพะผะตัั |
| โ๏ธ ะะตัะตะธะผะตะฝะพะฒะฐัั | ะะทะผะตะฝะตะฝะธะต ะฝะฐะทะฒะฐะฝะธั ะทะฐะดะฐัะธ |
| โ ะัะฟะพะปะฝะธัั | ะัะผะตัะบะฐ ะทะฐะดะฐัะธ ะบะฐะบ ะฒัะฟะพะปะฝะตะฝะฝะพะน |
| ๐ ะะพะบะฐะทะฐัั ะทะฐะดะฐัะธ | ะัะพัะผะพัั ัะฟะธัะบะฐ ะทะฐะดะฐั |

## ๐ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Telegram Bot (run.js)                  โ
โ  โข ะัะธะฝะธะผะฐะตั ะบะพะผะฐะฝะดั ะพั ะฟะพะปัะทะพะฒะฐัะตะปั    โ
โ  โข ะฃะฟัะฐะฒะปัะตั ัะตััะธัะผะธ (ัะพะบะตะฝั)          โ
โ  โข ะัะทัะฒะฐะตั API ะผะตัะพะดั                  โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ HTTP ะทะฐะฟัะพัั
                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  TODO GAME API (server.py)              โ
โ  โข /api/auth/login                      โ
โ  โข /api/auth/register                   โ
โ  โข /api/bot/tasks/*                     โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  SQLite (users.db)                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:**
   ```bash
   git clone <repository-url>
   cd todo-game/telegram
   ```

2. **ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:**
   ```bash
   npm install
   ```

3. **ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:**
   ```bash
   # ะกะบะพะฟะธััะนัะต ะฟัะธะผะตั
   copy .env.example .env

   # ะััะตะดะฐะบัะธััะนัะต .env ะธ ัะบะฐะถะธัะต:
   TELEGRAM_BOT_TOKEN=ะฒะฐั_ัะพะบะตะฝ_ะฑะพัะฐ
   API_URL=https://todo.weforks.org
   ```

## โถ๏ธ ะะฐะฟััะบ

```bash
npm start
```

ะะพัะปะต ะทะฐะฟััะบะฐ ะฑะพั ะฑัะดะตั ะพะถะธะดะฐัั ะบะพะผะฐะฝะดั ะฒ Telegram.

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ Telegram

1. **ะะฐะฟััะบ ะฑะพัะฐ:** ะัะฟัะฐะฒััะต `/start`
2. **ะัะฑะตัะธัะต ะดะตะนััะฒะธะต** ะธะท ะผะตะฝั ะบะฝะพะฟะพะบ
3. **ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ** ะฑะพัะฐ:
   - ะะปั **ะฒัะพะดะฐ** โ ะฒะฒะตะดะธัะต username ะธ ะฟะฐัะพะปั
   - ะะปั **ัะตะณะธัััะฐัะธะธ** โ ะฒะฒะตะดะธัะต ะฝะพะฒัะน username ะธ ะฟะฐัะพะปั
   - ะะปั **ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ** โ ะฒัะฑะตัะธัะต ะดะตะนััะฒะธะต ะธ ัะปะตะดัะนัะต ะฟะพะดัะบะฐะทะบะฐะผ

### ะัะธะผะตั ะดะธะฐะปะพะณะฐ

```
ะั: /start
ะะพั: ะัะฑะตัะธัะต ะดะตะนััะฒะธะต:
     [๐ Login] [๐ Registration]

ะั: [ะฝะฐะถะฐะปะธ ๐ Login]
ะะพั: ะะฒะตะดะธัะต ะฒะฐัะต ะธะผั ะฟะพะปัะทะพะฒะฐัะตะปั:

ะั: myusername
ะะพั: ะะฒะตะดะธัะต ะฟะฐัะพะปั:

ะั: mypassword
ะะพั: โ ะฃัะฟะตัะฝัะน ะฒัะพะด! ะขะตะฟะตัั ะฒั ะผะพะถะตัะต ัะฟัะฐะฒะปััั ะทะฐะดะฐัะฐะผะธ.
     [๐ ะะพะฑะฐะฒะธัั ะทะฐะดะฐะฝะธะต] [๐๏ธ ะฃะดะฐะปะธัั ะทะฐะดะฐะฝะธะต]
     [โ๏ธ ะะตัะตะธะผะตะฝะพะฒะฐัั] [โ ะัะฟะพะปะฝะธัั]
     [๐ ะะพะบะฐะทะฐัั ะทะฐะดะฐัะธ]

ะั: [ะฝะฐะถะฐะปะธ ๐ ะะพะบะฐะทะฐัั ะทะฐะดะฐัะธ]
ะะพั: ๐ ะะฐะณััะถะฐั ัะฟะธัะพะบ ะทะฐะดะฐั...
ะะพั: ๐ ะะฐัะธ ะทะฐะดะฐัะธ:
     1. ะัะฟะธัั ะผะพะปะพะบะพ
     2. ะัะณัะปััั ัะพะฑะฐะบั
     3. ะกะดะตะปะฐัั ัะฑะพัะบั
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
telegram/
โโโ run.js              # Telegram ะฑะพั (ะพัะฝะพะฒะฝะพะน)
โโโ browser.js          # API ัะตัะฒะธั (HTTP ะทะฐะฟัะพัั)
โโโ config.js           # ะะพะฝัะธะณััะฐัะธั
โโโ package.json        # ะะฐะฒะธัะธะผะพััะธ
โโโ .env                # ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
โโโ README.md           # ะะพะบัะผะตะฝัะฐัะธั
```

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั (.env)

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต |
|------------|----------|
| `TELEGRAM_BOT_TOKEN` | ะขะพะบะตะฝ ะฑะพัะฐ ะพั @BotFather |
| `API_URL` | URL TODO GAME API (ะฟะพ ัะผะพะปัะฐะฝะธั: https://todo.weforks.org) |
| `ADMIN_TELEGRAM_ID` | Telegram ID ะฐะดะผะธะฝะพะฒ (ัะตัะตะท ะทะฐะฟัััั) |

### config.js

```javascript
module.exports = {
  telegram: {
    adminIds: [...],         // ID ะฐะดะผะธะฝะพะฒ
    buttons: { ... },        // ะะฐะทะฒะฐะฝะธั ะบะฝะพะฟะพะบ
    actions: { ... },        // ะะฝัััะตะฝะฝะธะต ะธะผะตะฝะฐ ะดะตะนััะฒะธะน
    messages: { ... }        // ะกะพะพะฑัะตะฝะธั ะฑะพัะฐ
  },
  api: {
    baseUrl: '...'           // URL API ะธะท .env
  }
};
```

## ๐ ะัะปะฐะดะบะฐ

ะะบะปััะธัะต ะฟะพะดัะพะฑะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะฒ ะบะพะฝัะพะปะธ:
- ะกะตััะธะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะฐะณััะถะตะฝะฝัะต ัะฟะธัะบะธ ะทะฐะดะฐั
- ะะตะทัะปััะฐัั ะฒัะฟะพะปะฝะตะฝะธั API ะทะฐะฟัะพัะพะฒ

## ๐ ะะฐะฒะธัะธะผะพััะธ

- [telegraf](https://telegraf.js.org/) โ ััะตะนะผะฒะพัะบ ะดะปั Telegram-ะฑะพัะพะฒ
- [dotenv](https://github.com/motdotla/dotenv) โ ัะฟัะฐะฒะปะตะฝะธะต ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั

## โ๏ธ ะัะธะผะตัะฐะฝะธั

- ะะพั ัะฐะฑะพัะฐะตั ั ะฝะตัะบะพะปัะบะธะผะธ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
- ะกะตััะธะธ ััะฐะฝัััั ะฒ ะฟะฐะผััะธ (ัะฑัะฐััะฒะฐัััั ะฟัะธ ะฟะตัะตะทะฐะฟััะบะต)
- ะะฐะถะดัะน ัะพะบะตะฝ ัะฝะธะบะฐะปะตะฝ ะธ ะฟัะธะฒัะทะฐะฝ ะบ ะฟะพะปัะทะพะฒะฐัะตะปั
- ะะปั ัะฐะฑะพัั ััะตะฑัะตััั ะดะพัััะฟ ะบ TODO GAME API

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ะขะพะบะตะฝั ะณะตะฝะตัะธัััััั ัะตัะตะท SHA-256
- ะขะพะบะตะฝั ััะฐะฝัััั ะฒ ะฑะฐะทะต ะดะฐะฝะฝัั ะฝะฐ ัะตัะฒะตัะต
- ะะพะทะผะพะถะฝะพััั ะพัะทัะฒะฐ ัะพะบะตะฝะฐ ัะตัะตะท logout
- ะะดะธะฝ ะฐะบะบะฐัะฝั ะฝะต ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัััั ะฝะตัะบะพะปัะบะธะผะธ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ

## ๐ ะะธัะตะฝะทะธั

MIT
